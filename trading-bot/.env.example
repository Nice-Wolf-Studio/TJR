# =======================================================
# TJR Trading Bot Environment Configuration
# =======================================================

# =======================================================
# APPLICATION SETTINGS
# =======================================================
NODE_ENV=development
APP_NAME=TJR Trading Bot
APP_VERSION=1.0.0
PORT=3000
HOST=localhost
TIMEZONE=UTC

# =======================================================
# DATABASE CONFIGURATION
# =======================================================
DB_HOST=localhost
DB_PORT=5432
DB_NAME=trading_bot
DB_USER=postgres
DB_PASSWORD=your_database_password_here
DB_SSL=false
DB_SSL_REJECT_UNAUTHORIZED=true

# Database Pool Settings
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_IDLE_TIMEOUT=30000
DB_CONNECTION_TIMEOUT=10000
DB_STATEMENT_TIMEOUT=30000

# =======================================================
# REDIS CONFIGURATION
# =======================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your_redis_password_here_optional
REDIS_DB=0
REDIS_KEY_PREFIX=trading_bot:

# Redis Connection Settings
REDIS_RETRY_DELAY=100
REDIS_CLUSTER_RETRY_DELAY=300
REDIS_MAX_RETRIES=3

# Redis TTL Settings (in seconds)
REDIS_TTL_PRICE_DATA=300
REDIS_TTL_ANALYSIS=1800
REDIS_TTL_MARKETS=3600
REDIS_TTL_CONFLUENCES=900

# =======================================================
# DATA SOURCE API CONFIGURATION
# =======================================================

# Polygon.io
POLYGON_ENABLED=false
POLYGON_API_KEY=your_polygon_api_key
POLYGON_BASE_URL=https://api.polygon.io
POLYGON_RATE_LIMIT_REQUESTS=5
POLYGON_RATE_LIMIT_DURATION=60

# Alpha Vantage
ALPHAVANTAGE_ENABLED=false
ALPHAVANTAGE_API_KEY=your_alpha_vantage_api_key_optional
ALPHAVANTAGE_BASE_URL=https://www.alphavantage.co/query
ALPHAVANTAGE_RATE_LIMIT_REQUESTS=5
ALPHAVANTAGE_RATE_LIMIT_DURATION=60

# TradingView Data Source
TRADINGVIEW_ENABLED=true
TRADINGVIEW_BASE_URL=https://scanner.tradingview.com
TRADINGVIEW_RATE_LIMIT_REQUESTS=100
TRADINGVIEW_RATE_LIMIT_DURATION=60

# =======================================================
# TRADINGVIEW WEBHOOK CONFIGURATION
# =======================================================

# Basic Webhook Settings
TRADINGVIEW_WEBHOOK_ENABLED=true
TRADINGVIEW_WEBHOOK_PORT=3001
TRADINGVIEW_WEBHOOK_PATH=/webhook/tradingview
TRADINGVIEW_WEBHOOK_SECRET=your_webhook_secret_key

# Security Settings
TRADINGVIEW_WEBHOOK_SIGNATURE_VALIDATION=true
TRADINGVIEW_WEBHOOK_RATE_LIMIT=true
TRADINGVIEW_WEBHOOK_DDOS_PROTECTION=true

# Rate Limiting
TRADINGVIEW_WEBHOOK_MAX_ALERTS_PER_MIN=100
TRADINGVIEW_WEBHOOK_MAX_ALERTS_PER_HOUR=1000

# Processing Settings
TRADINGVIEW_WEBHOOK_ALERT_TIMEOUT=30000
TRADINGVIEW_WEBHOOK_ENABLE_DEDUPLICATION=true
TRADINGVIEW_WEBHOOK_DEDUPLICATION_WINDOW=5000

# Signal Processing
TRADINGVIEW_WEBHOOK_ENABLE_SIGNAL_PROCESSING=true
TRADINGVIEW_WEBHOOK_MIN_CONFIDENCE=0.6
TRADINGVIEW_WEBHOOK_MIN_CONFLUENCE_SCORE=5.0

# Integration Settings
TRADINGVIEW_WEBHOOK_ANALYSIS_INTEGRATION=true
TRADINGVIEW_WEBHOOK_ANALYSIS_TIMEOUT=30000
TRADINGVIEW_WEBHOOK_ALERT_GENERATION=true

# Filtering and Validation
TRADINGVIEW_WEBHOOK_ALLOWED_TIMEFRAMES=1m,5m,15m,1h,4h,1d
TRADINGVIEW_WEBHOOK_ALLOWED_SYMBOLS=
TRADINGVIEW_WEBHOOK_SYMBOL_WHITELIST=false

# Monitoring and Health
TRADINGVIEW_WEBHOOK_HEALTH_CHECK=true
TRADINGVIEW_WEBHOOK_HEALTH_INTERVAL=60000
TRADINGVIEW_WEBHOOK_METRICS=true
TRADINGVIEW_WEBHOOK_METRICS_RETENTION=86400000

# =======================================================
# WEBHOOK MANAGER CONFIGURATION
# =======================================================

# General Settings
WEBHOOK_MANAGER_ENABLED=true

# Health Monitoring
WEBHOOK_HEALTH_CHECK_INTERVAL=60000
WEBHOOK_HEALTH_CHECK_TIMEOUT=10000
WEBHOOK_UNHEALTHY_THRESHOLD=3
WEBHOOK_RECOVERY_THRESHOLD=2

# Statistics and Metrics
WEBHOOK_ENABLE_STATISTICS=true
WEBHOOK_STATISTICS_INTERVAL=300000
WEBHOOK_STATISTICS_RETENTION=86400000

# Error Handling and Retry Logic
WEBHOOK_ENABLE_RETRY=true
WEBHOOK_MAX_RETRIES=3
WEBHOOK_RETRY_DELAY=5000
WEBHOOK_BACKOFF_MULTIPLIER=2
WEBHOOK_MAX_RETRY_DELAY=300000

# Security Settings
WEBHOOK_ENABLE_RATE_LIMITING=true
WEBHOOK_ENABLE_SIGNATURE_VALIDATION=true
WEBHOOK_ENABLE_DDOS_PROTECTION=true

# Provider-Specific Settings
WEBHOOK_TRADINGVIEW_ENABLED=true
WEBHOOK_DISCORD_ENABLED=false
DISCORD_WEBHOOK_URL=
WEBHOOK_SLACK_ENABLED=false
SLACK_WEBHOOK_URL=

# =======================================================
# SIGNAL PROCESSOR CONFIGURATION
# =======================================================

# General Settings
SIGNAL_PROCESSOR_ENABLED=true

# Quality Validation
SIGNAL_QUALITY_VALIDATION=true
SIGNAL_MIN_CONFIDENCE=0.6
SIGNAL_MIN_CONFLUENCE_SCORE=5.0
SIGNAL_MAX_PER_SYMBOL=10

# Queue Settings
SIGNAL_ENABLE_QUEUEING=true
SIGNAL_QUEUE_MAX_SIZE=1000
SIGNAL_PROCESSING_BATCH_SIZE=10
SIGNAL_PROCESSING_INTERVAL=1000

# Analysis Engine Integration
SIGNAL_ENABLE_ANALYSIS_ENGINE=true
SIGNAL_ANALYSIS_TIMEOUT=30000
SIGNAL_ENABLE_TRIGGER_UPDATES=true

# Signal Filtering
SIGNAL_ENABLE_DUPLICATE_FILTERING=true
SIGNAL_DUPLICATE_TIME_WINDOW=300000
SIGNAL_ENABLE_TIMEFRAME_FILTERING=true
SIGNAL_ALLOWED_TIMEFRAMES=1m,5m,15m,1h,4h,1d

# Performance Tracking
SIGNAL_ENABLE_PERFORMANCE_TRACKING=true
SIGNAL_PERFORMANCE_WINDOW=24

# =======================================================
# DISCORD BOT CONFIGURATION
# =======================================================
DISCORD_TOKEN=your_discord_bot_token_here
DISCORD_CLIENT_ID=your_discord_client_id_here
DISCORD_GUILD_IDS=your_discord_guild_id_here_optional
DISCORD_OWNER_IDS=your_discord_user_id,another_owner_id
DISCORD_PREFIX=!

# Discord Features
DISCORD_SLASH_COMMANDS=true
DISCORD_ENABLE_ANALYSIS=true
DISCORD_ENABLE_ALERTS=true

# Discord Rate Limiting
DISCORD_COMMAND_COOLDOWN=3000
DISCORD_MAX_REQUESTS_PER_MINUTE=10

# =======================================================
# LOGGING CONFIGURATION
# =======================================================
LOG_LEVEL=info
LOG_DIR=./logs
LOG_MAX_FILES=30d
LOG_MAX_SIZE=100m

# Console Logging
LOG_CONSOLE=true
LOG_COLORIZE=true

# File Logging
LOG_ENABLE_FILE=true
LOG_ENABLE_ERROR_FILE=true
LOG_ENABLE_PERFORMANCE_FILE=true

# =======================================================
# TRADING CONFIGURATION
# =======================================================

# Default Markets and Timeframes
TRADING_DEFAULT_MARKETS=EURUSD,GBPUSD,USDJPY,AUDUSD
TRADING_DEFAULT_TIMEFRAMES=1m,5m,15m,1h,4h,1d

# Analysis Settings
TRADING_CONFLUENCE_THRESHOLD=0.7
TRADING_LIQUIDITY_STRENGTH_THRESHOLD=5.0

# Trading Bot Specific Settings
DEFAULT_TIMEFRAME=1H
MAX_ANALYSIS_REQUESTS_PER_HOUR=50
ENABLE_PAPER_TRADING=true
RISK_PERCENTAGE_LIMIT=2

# =======================================================
# DATA COLLECTION CONFIGURATION
# =======================================================
DATA_COLLECTION_ENABLED=true
DATA_COLLECTION_BATCH_SIZE=1000
DATA_COLLECTION_MAX_RETRIES=3
DATA_COLLECTION_RETRY_DELAY=5000

# Data Validation
DATA_VALIDATION_ENABLED=true
DATA_MIN_QUALITY_SCORE=0.7
DATA_MAX_PRICE_DEVIATION=0.5

# =======================================================
# SECURITY CONFIGURATION
# =======================================================

# API Security
ENABLE_API_SECURITY=true
API_KEY_HEADER=X-API-Key

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# CORS Settings
ENABLE_CORS=true
CORS_ORIGIN=*

# Security Headers
ENABLE_SECURITY_HEADERS=true

# =======================================================
# MONITORING AND HEALTH CHECKS
# =======================================================
MONITORING_ENABLED=true
HEALTH_CHECK_INTERVAL=60000

# Metrics Collection
ENABLE_METRICS=true
METRICS_PORT=9090

# Alerting
ENABLE_ALERTS=true
ALERT_WEBHOOK_URL=your_alert_webhook_url_optional
ERROR_WEBHOOK_URL=your_error_webhook_url_optional
LOG_WEBHOOK_URL=your_log_webhook_url_optional

# External Services
MARKET_DATA_PROVIDER=mock
NEWS_FEED_ENABLED=false
SENTIMENT_ANALYSIS_ENABLED=false

# Monitoring and Alerts
UPTIME_MONITOR_URL=your_uptime_monitor_url_optional
ERROR_REPORTING_SERVICE=your_error_service_optional
METRICS_COLLECTION_ENABLED=true